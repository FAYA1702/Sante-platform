{"openapi":"3.1.0","info":{"title":"Sante Platform API","description":"API de la plateforme santÃ©","version":"0.1.0"},"paths":{"/auth/register":{"post":{"tags":["auth"],"summary":"Inscription","operationId":"inscription_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UtilisateurCreation"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["auth"],"summary":"Connexion","description":"Connexion d'un utilisateur (vÃ©rification hash, JWT).","operationId":"connexion_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UtilisateurLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/devices":{"get":{"tags":["appareils"],"summary":"Lister Appareils","description":"Retourne la liste de tous les appareils enregistrÃ©s.\nL'accÃ¨s est restreint aux utilisateurs avec le rÃ´le d'administrateur ou de technicien.","operationId":"lister_appareils_devices_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AppareilEnDB"},"type":"array","title":"Response Lister Appareils Devices Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["appareils"],"summary":"Ajouter Appareil","description":"Enregistre un nouvel appareil dans la base.","operationId":"ajouter_appareil_devices_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppareilCreation"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppareilEnDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/my/devices":{"get":{"tags":["appareils"],"summary":"Lister Appareils Patient","description":"Retourne les appareils appartenant au patient connectÃ©.","operationId":"lister_appareils_patient_my_devices_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AppareilEnDB"},"type":"array","title":"Response Lister Appareils Patient My Devices Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/data/test":{"get":{"tags":["donnees"],"summary":"Test Data Endpoint","description":"Endpoint de test pour diagnostiquer les problÃ¨mes de donnÃ©es.","operationId":"test_data_endpoint_data_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/data":{"post":{"tags":["donnees"],"summary":"Ajouter Donnee","description":"Ajoute une donnÃ©e de santÃ© dans MongoDB (Beanie).\nLe champ user_id est automatiquement renseignÃ© avec lâID du patient connectÃ© (RGPD).","operationId":"ajouter_donnee_data_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DonneeCreation"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DonneeEnDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["donnees"],"summary":"Lister Donnees","description":"Liste les donnÃ©es de santÃ© filtrÃ©es par plage de dates et par utilisateur (RGPD).\n- Patient : ne voit que ses propres donnÃ©es.\n- MÃ©decin : voit toutes les donnÃ©es (dÃ©mo, Ã  restreindre Ã  ses patients en prod).\n- Admin : accÃ¨s autorisÃ© uniquement pour la dÃ©mo/documentation (jamais en prod RGPD).","operationId":"lister_donnees_data_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Date de dÃ©but (ISO)","examples":{"2025-07-01T00:00:00Z":{"summary":"DÃ©but"}},"title":"From"},"description":"Date de dÃ©but (ISO)"},{"name":"to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Date de fin (ISO)","examples":{"2025-07-07T23:59:59Z":{"summary":"Fin"}},"title":"To"},"description":"Date de fin (ISO)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DonneeEnDB"},"title":"Response Lister Donnees Data Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/alerts/stream":{"get":{"tags":["alertes"],"summary":"Stream Alertes","description":"Flux Server-Sent Events renvoyant chaque nouvelle alerte en temps rÃ©el.","operationId":"stream_alertes_alerts_stream_get","responses":{"200":{"description":"Successful Response"}}}},"/alerts":{"get":{"tags":["alertes"],"summary":"Lister Alertes","description":"Liste les alertes de l'utilisateur connectÃ© uniquement (sÃ©curitÃ© RGPD).","operationId":"lister_alertes_alerts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AlerteEnDB"},"type":"array","title":"Response Lister Alertes Alerts Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/recommendations":{"get":{"tags":["recommendations"],"summary":"Lister Recommandations","description":"Renvoie les recommandations du patient connectÃ©.\n\nLe format de rÃ©ponse est adaptÃ© pour correspondre aux attentes du frontend :\n- id: identifiant unique\n- user_id: ID du patient\n- titre: titre court de la recommandation\n- description: contenu dÃ©taillÃ©\n- date: date de crÃ©ation","operationId":"lister_recommandations_recommendations_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RecommandationEnDB"},"type":"array","title":"Response Lister Recommandations Recommendations Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["recommendations"],"summary":"Creer Recommandation","description":"CrÃ©e une recommandation pour un patient (utilisable par un mÃ©decin ou l'IA).","operationId":"creer_recommandation_recommendations_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Reco"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecommandationEnDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/stats":{"get":{"tags":["stats"],"summary":"Obtenir Stats","description":"Retourne les mÃ©triques de comptage pour l'utilisateur connectÃ© (sÃ©grÃ©gation des donnÃ©es).","operationId":"obtenir_stats_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatsReponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/users/":{"get":{"tags":["utilisateurs"],"summary":"Lister Utilisateurs","description":"Liste des utilisateurs avec pagination et recherche (admin).\n\n- **skip**: nombre d'Ã©lÃ©ments Ã  ignorer\n- **limit**: taille de page (max 100)\n- **q**: filtre sur email ou username contenant la chaÃ®ne (insensible Ã  la casse)","operationId":"lister_utilisateurs_users__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UtilisateurPublic"},"title":"Response Lister Utilisateurs Users  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["utilisateurs"],"summary":"Creer Utilisateur","description":"CrÃ©ation d'un utilisateur par un admin.","operationId":"creer_utilisateur_users__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UtilisateurAdminCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UtilisateurPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_id}":{"patch":{"tags":["utilisateurs"],"summary":"Mettre A Jour Utilisateur","description":"Mise Ã  jour partielle d'un utilisateur (admin).","operationId":"mettre_a_jour_utilisateur_users__user_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","example":"5eb7cf5a86d9755df3a6c593","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UtilisateurUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UtilisateurPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["utilisateurs"],"summary":"Supprimer Utilisateur","description":"Suppression d'un utilisateur (admin).","operationId":"supprimer_utilisateur_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","example":"5eb7cf5a86d9755df3a6c593","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/patients":{"get":{"tags":["utilisateurs"],"summary":"Lister Patients","description":"Retourne la liste des utilisateurs ayant le rÃ´le patient (pour les mÃ©decins/admin).","operationId":"lister_patients_users_patients_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UtilisateurPublic"},"type":"array","title":"Response Lister Patients Users Patients Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/users/me":{"get":{"tags":["utilisateurs"],"summary":"Lire Profil","description":"Renvoie le profil de l'utilisateur connectÃ©.","operationId":"lire_profil_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UtilisateurPublic"}}}}},"security":[{"HTTPBearer":[]}]}},"/users/{user_id}/role":{"patch":{"tags":["utilisateurs"],"summary":"Changer Role","description":"Permet Ã  un administrateur de changer le rÃ´le d'un utilisateur donnÃ©.","operationId":"changer_role_users__user_id__role_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","example":"5eb7cf5a86d9755df3a6c593","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UtilisateurPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/patients/{patient_id}/summary":{"get":{"tags":["patients"],"summary":"Patient Summary","description":"Infos gÃ©nÃ©rales + derniers signes vitaux d'un patient.","operationId":"patient_summary_patients__patient_id__summary_get","parameters":[{"name":"patient_id","in":"path","required":true,"schema":{"type":"string","title":"Patient Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Patient Summary Patients  Patient Id  Summary Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/patients/{patient_id}/history":{"get":{"tags":["patients"],"summary":"Patient History","description":"Historique complet : donnÃ©es santÃ©, alertes, recommandations.","operationId":"patient_history_patients__patient_id__history_get","parameters":[{"name":"patient_id","in":"path","required":true,"schema":{"type":"string","title":"Patient Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Patient History Patients  Patient Id  History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/medecin/patients":{"get":{"tags":["medecin"],"summary":"Get Medecin Patients","description":"RÃ©cupÃ¨re la liste des patients assignÃ©s au mÃ©decin connectÃ©.","operationId":"get_medecin_patients_medecin_patients_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/medecin/alertes":{"get":{"tags":["medecin"],"summary":"Get Medecin Alertes","description":"RÃ©cupÃ¨re les alertes des patients du mÃ©decin selon le statut.","operationId":"get_medecin_alertes_medecin_alertes_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"statut","in":"query","required":false,"schema":{"type":"string","default":"nouvelle","title":"Statut"}},{"name":"patient_id","in":"query","required":false,"schema":{"type":"string","title":"Patient Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/medecin/recommandations":{"get":{"tags":["medecin"],"summary":"Get Medecin Recommandations","description":"RÃ©cupÃ¨re les recommandations des patients du mÃ©decin selon le statut.","operationId":"get_medecin_recommandations_medecin_recommandations_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"statut","in":"query","required":false,"schema":{"type":"string","default":"nouvelle","title":"Statut"}},{"name":"patient_id","in":"query","required":false,"schema":{"type":"string","title":"Patient Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/medecin/alertes/{alerte_id}/marquer-vue":{"patch":{"tags":["medecin"],"summary":"Marquer Alerte Vue","description":"Marque une alerte comme vue par le mÃ©decin.","operationId":"marquer_alerte_vue_medecin_alertes__alerte_id__marquer_vue_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alerte_id","in":"path","required":true,"schema":{"type":"string","title":"Alerte Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/medecin/recommandations/{reco_id}/marquer-vue":{"patch":{"tags":["medecin"],"summary":"Marquer Recommandation Vue","description":"Marque une recommandation comme vue par le mÃ©decin.","operationId":"marquer_recommandation_vue_medecin_recommandations__reco_id__marquer_vue_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"reco_id","in":"path","required":true,"schema":{"type":"string","title":"Reco Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/medecin/patients/{patient_id}/assign":{"post":{"tags":["medecin"],"summary":"Assign Patient To Medecin","description":"Assigne un patient au mÃ©decin connectÃ©.","operationId":"assign_patient_to_medecin_medecin_patients__patient_id__assign_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patient_id","in":"path","required":true,"schema":{"type":"string","title":"Patient Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/filtrage/alertes/patient":{"get":{"tags":["Filtrage MÃ©dical"],"summary":"Get Alertes Patient","description":"RÃ©cupÃ¨re les alertes visibles pour un patient (filtrage mÃ©dical).","operationId":"get_alertes_patient_filtrage_alertes_patient_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/filtrage/recommandations/patient":{"get":{"tags":["Filtrage MÃ©dical"],"summary":"Get Recommandations Patient","description":"RÃ©cupÃ¨re les recommandations visibles pour un patient (validÃ©es par mÃ©decin).","operationId":"get_recommandations_patient_filtrage_recommandations_patient_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/filtrage/alertes/medecin/critiques":{"get":{"tags":["Filtrage MÃ©dical"],"summary":"Get Alertes Critiques Medecin","description":"RÃ©cupÃ¨re uniquement les alertes critiques pour le mÃ©decin (prioritÃ© haute).","operationId":"get_alertes_critiques_medecin_filtrage_alertes_medecin_critiques_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/filtrage/recommandation/{reco_id}/valider":{"patch":{"tags":["Filtrage MÃ©dical"],"summary":"Valider Recommandation Medecin","description":"Permet au mÃ©decin de valider une recommandation et la rendre visible au patient.","operationId":"valider_recommandation_medecin_filtrage_recommandation__reco_id__valider_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"reco_id","in":"path","required":true,"schema":{"type":"string","title":"Reco Id"}},{"name":"visible_patient","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Visible Patient"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/assignation/mes-medecins":{"get":{"tags":["assignation"],"summary":"Lister Mes Medecins","description":"Liste les mÃ©decins assignÃ©s au patient connectÃ©.","operationId":"lister_mes_medecins_assignation_mes_medecins_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListeMedecins"}}}}},"security":[{"HTTPBearer":[]}]}},"/assignation/demander-assignation":{"post":{"tags":["assignation"],"summary":"Demander Assignation Medecin","description":"Permet Ã  un patient de demander l'assignation Ã  un mÃ©decin.","operationId":"demander_assignation_medecin_assignation_demander_assignation_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/assignation/mes-patients":{"get":{"tags":["assignation"],"summary":"Lister Mes Patients","description":"Liste les patients assignÃ©s au mÃ©decin connectÃ©.","operationId":"lister_mes_patients_assignation_mes_patients_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListePatients"}}}}},"security":[{"HTTPBearer":[]}]}},"/assignation/accepter-patient":{"post":{"tags":["assignation"],"summary":"Accepter Patient","description":"Permet Ã  un mÃ©decin d'accepter un patient (assignation manuelle).","operationId":"accepter_patient_assignation_accepter_patient_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/assignation/tous-medecins":{"get":{"tags":["assignation"],"summary":"Lister Tous Medecins","description":"Liste tous les mÃ©decins disponibles (pour assignation).","operationId":"lister_tous_medecins_assignation_tous_medecins_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListeMedecins"}}}}},"security":[{"HTTPBearer":[]}]}},"/assignation/supprimer/{patient_id}/{medecin_id}":{"delete":{"tags":["assignation"],"summary":"Supprimer Assignation","description":"Supprime une assignation patient-mÃ©decin (admin uniquement).","operationId":"supprimer_assignation_assignation_supprimer__patient_id___medecin_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"patient_id","in":"path","required":true,"schema":{"type":"string","title":"Patient Id"}},{"name":"medecin_id","in":"path","required":true,"schema":{"type":"string","title":"Medecin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/departments/":{"get":{"tags":["DÃ©partements"],"summary":"Get Departments","description":"RÃ©cupÃ©rer la liste de tous les dÃ©partements actifs.","operationId":"get_departments_departments__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DepartmentResponse"},"type":"array","title":"Response Get Departments Departments  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["DÃ©partements"],"summary":"Create Department","description":"CrÃ©er un nouveau dÃ©partement (admin uniquement).","operationId":"create_department_departments__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/departments/{department_id}":{"get":{"tags":["DÃ©partements"],"summary":"Get Department","description":"RÃ©cupÃ©rer un dÃ©partement par son ID.","operationId":"get_department_departments__department_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"department_id","in":"path","required":true,"schema":{"type":"string","title":"Department Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["DÃ©partements"],"summary":"Update Department","description":"Mettre Ã  jour un dÃ©partement (admin uniquement).","operationId":"update_department_departments__department_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"department_id","in":"path","required":true,"schema":{"type":"string","title":"Department Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["DÃ©partements"],"summary":"Delete Department","description":"Supprimer (dÃ©sactiver) un dÃ©partement (admin uniquement).","operationId":"delete_department_departments__department_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"department_id","in":"path","required":true,"schema":{"type":"string","title":"Department Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/referrals/":{"get":{"tags":["Orientations"],"summary":"Get Referrals","description":"RÃ©cupÃ©rer la liste des orientations selon le rÃ´le de l'utilisateur.","operationId":"get_referrals_referrals__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrer par statut","title":"Status Filter"},"description":"Filtrer par statut"},{"name":"department_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrer par dÃ©partement","title":"Department Id"},"description":"Filtrer par dÃ©partement"},{"name":"patient_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrer par patient","title":"Patient Id"},"description":"Filtrer par patient"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReferralResponse"},"title":"Response Get Referrals Referrals  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Orientations"],"summary":"Create Referral","description":"CrÃ©er une nouvelle orientation mÃ©dicale.","operationId":"create_referral_referrals__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferralCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferralResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/referrals/{referral_id}":{"patch":{"tags":["Orientations"],"summary":"Update Referral","description":"Mettre Ã  jour une orientation (accepter, refuser, etc.).","operationId":"update_referral_referrals__referral_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"referral_id","in":"path","required":true,"schema":{"type":"string","title":"Referral Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferralUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReferralResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/assignments/":{"get":{"tags":["Assignations"],"summary":"Get Assignments","description":"RÃ©cupÃ©rer la liste des assignations selon le rÃ´le de l'utilisateur.","operationId":"get_assignments_assignments__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrer par statut","title":"Status Filter"},"description":"Filtrer par statut"},{"name":"department_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrer par dÃ©partement","title":"Department Id"},"description":"Filtrer par dÃ©partement"},{"name":"patient_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrer par patient","title":"Patient Id"},"description":"Filtrer par patient"},{"name":"doctor_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrer par mÃ©decin","title":"Doctor Id"},"description":"Filtrer par mÃ©decin"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AssignmentResponse"},"title":"Response Get Assignments Assignments  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Assignations"],"summary":"Create Assignment","description":"CrÃ©er une nouvelle assignation patient-mÃ©decin.","operationId":"create_assignment_assignments__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/assignments/{assignment_id}":{"patch":{"tags":["Assignations"],"summary":"Update Assignment","description":"Mettre Ã  jour une assignation (terminer, suspendre, etc.).","operationId":"update_assignment_assignments__assignment_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"string","title":"Assignment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Assignations"],"summary":"Delete Assignment","description":"Supprimer une assignation (admin uniquement).","operationId":"delete_assignment_assignments__assignment_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"assignment_id","in":"path","required":true,"schema":{"type":"string","title":"Assignment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/protected/profile":{"get":{"tags":["protected"],"summary":"Mon Profil","description":"Renvoie les informations du profil courant, accessible Ã  tout utilisateur authentifiÃ©.","operationId":"mon_profil_protected_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/protected/admin":{"get":{"tags":["protected"],"summary":"Admin Only","description":"Route rÃ©servÃ©e aux administrateurs.","operationId":"admin_only_protected_admin_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/referrals":{"get":{"summary":"Get Referrals Temp","description":"Endpoint temporaire pour rÃ©cupÃ©rer les orientations.","operationId":"get_referrals_temp_referrals_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response Get Referrals Temp Referrals Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/ping":{"get":{"summary":"Ping","operationId":"ping_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/test-cors":{"get":{"summary":"Test Cors","description":"Endpoint de test pour vÃ©rifier que CORS fonctionne (sans auth).","operationId":"test_cors_test_cors_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AlerteEnDB":{"properties":{"user_id":{"type":"string","title":"User Id","description":"ID du patient concernÃ© par l'alerte"},"message":{"type":"string","title":"Message","description":"Contenu de l'alerte"},"niveau":{"type":"string","title":"Niveau","description":"Niveau de gravitÃ©, ex: 'faible', 'moyen', 'Ã©levÃ©'"},"date":{"type":"string","format":"date-time","title":"Date","description":"Date de gÃ©nÃ©ration de l'alerte"},"id":{"type":"string","title":"Id","description":"Identifiant unique de l'alerte (UUID)"}},"type":"object","required":["user_id","message","niveau","date","id"],"title":"AlerteEnDB"},"AppareilCreation":{"properties":{"type":{"type":"string","title":"Type","description":"Type d'appareil, ex: 'oxymetre', 'tensiometre', 'ecg'"},"numero_serie":{"type":"string","title":"Numero Serie","description":"NumÃ©ro de sÃ©rie unique de l'appareil"},"user_id":{"type":"string","title":"User Id","description":"ID du patient propriÃ©taire"}},"type":"object","required":["type","numero_serie","user_id"],"title":"AppareilCreation"},"AppareilEnDB":{"properties":{"type":{"type":"string","title":"Type","description":"Type d'appareil, ex: 'oxymetre', 'tensiometre', 'ecg'"},"numero_serie":{"type":"string","title":"Numero Serie","description":"NumÃ©ro de sÃ©rie unique de l'appareil"},"id":{"type":"string","title":"Id","description":"Identifiant unique (UUID)"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"ID du patient propriÃ©taire (optionnel pour compatibilitÃ© avec anciens appareils)"},"patient_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patient Username","description":"Nom d'utilisateur du patient (optionnel)"},"nom":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nom","description":"Nom descriptif de l'appareil"},"modele":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Modele","description":"ModÃ¨le de l'appareil"},"statut":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Statut","description":"Statut de l'appareil (actif, inactif, maintenance)"},"date_installation":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date Installation","description":"Date d'installation"},"derniere_maintenance":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Derniere Maintenance","description":"Date de derniÃ¨re maintenance"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At","description":"Date de crÃ©ation"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At","description":"Date de mise Ã  jour"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"Appareil actif"}},"type":"object","required":["type","numero_serie","id"],"title":"AppareilEnDB","description":"ReprÃ©sentation d'un appareil tel que stockÃ© en base de donnÃ©es."},"AssignationRequest":{"properties":{"medecin_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Medecin Id","description":"ID du mÃ©decin (pour demande patient)"},"patient_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patient Id","description":"ID du patient (pour acceptation mÃ©decin)"}},"type":"object","title":"AssignationRequest","description":"RequÃªte d'assignation patient-mÃ©decin."},"AssignationResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"SuccÃ¨s de l'opÃ©ration"},"message":{"type":"string","title":"Message","description":"Message de confirmation"}},"type":"object","required":["success","message"],"title":"AssignationResponse","description":"RÃ©ponse d'une opÃ©ration d'assignation."},"AssignmentCreate":{"properties":{"patient_id":{"type":"string","title":"Patient Id","description":"ID du patient"},"department_id":{"type":"string","title":"Department Id","description":"ID du dÃ©partement"},"doctor_id":{"type":"string","title":"Doctor Id","description":"ID du mÃ©decin"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Notes sur l'assignation"},"referral_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Referral Id","description":"ID de l'orientation source"},"created_by":{"type":"string","title":"Created By","description":"ID du crÃ©ateur"}},"type":"object","required":["patient_id","department_id","doctor_id","created_by"],"title":"AssignmentCreate","description":"SchÃ©ma pour la crÃ©ation d'une assignation."},"AssignmentResponse":{"properties":{"patient_id":{"type":"string","title":"Patient Id","description":"ID du patient"},"department_id":{"type":"string","title":"Department Id","description":"ID du dÃ©partement"},"doctor_id":{"type":"string","title":"Doctor Id","description":"ID du mÃ©decin"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Notes sur l'assignation"},"id":{"type":"string","title":"Id","description":"ID unique de l'assignation"},"referral_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Referral Id","description":"ID de l'orientation source"},"status":{"allOf":[{"$ref":"#/components/schemas/AssignmentStatus"}],"description":"Statut de l'assignation"},"start_at":{"type":"string","format":"date-time","title":"Start At","description":"Date de dÃ©but"},"end_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End At","description":"Date de fin"},"created_by":{"type":"string","title":"Created By","description":"ID du crÃ©ateur"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Date de crÃ©ation"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Date de modification"},"patient_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patient Name","description":"Nom du patient"},"department_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department Name","description":"Nom du dÃ©partement"},"doctor_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doctor Name","description":"Nom du mÃ©decin"},"created_by_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created By Name","description":"Nom du crÃ©ateur"}},"type":"object","required":["patient_id","department_id","doctor_id","id","status","start_at","created_by","created_at","updated_at"],"title":"AssignmentResponse","description":"SchÃ©ma de rÃ©ponse pour une assignation."},"AssignmentStatus":{"type":"string","enum":["active","ended","suspended"],"title":"AssignmentStatus","description":"Statut d'une assignation patient-mÃ©decin."},"AssignmentUpdate":{"properties":{"status":{"anyOf":[{"$ref":"#/components/schemas/AssignmentStatus"},{"type":"null"}]},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"end_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End At"}},"type":"object","title":"AssignmentUpdate","description":"SchÃ©ma pour la mise Ã  jour d'une assignation."},"DepartmentCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Nom du dÃ©partement"},"code":{"type":"string","title":"Code","description":"Code du dÃ©partement"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description du dÃ©partement"},"is_active":{"type":"boolean","title":"Is Active","description":"DÃ©partement actif","default":true}},"type":"object","required":["name","code"],"title":"DepartmentCreate","description":"SchÃ©ma pour la crÃ©ation d'un dÃ©partement."},"DepartmentResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Nom du dÃ©partement"},"code":{"type":"string","title":"Code","description":"Code du dÃ©partement"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description du dÃ©partement"},"is_active":{"type":"boolean","title":"Is Active","description":"DÃ©partement actif","default":true},"id":{"type":"string","title":"Id","description":"ID unique du dÃ©partement"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Date de crÃ©ation"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Date de derniÃ¨re modification"}},"type":"object","required":["name","code","id","created_at","updated_at"],"title":"DepartmentResponse","description":"SchÃ©ma de rÃ©ponse pour un dÃ©partement."},"DepartmentUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"DepartmentUpdate","description":"SchÃ©ma pour la mise Ã  jour d'un dÃ©partement."},"DonneeCreation":{"properties":{"device_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id","description":"Identifiant de l'appareil (UUID)"},"frequence_cardiaque":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Frequence Cardiaque","description":"FrÃ©quence cardiaque en bpm"},"pression_arterielle":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pression Arterielle","description":"Pression artÃ©rielle ex: '120/80'"},"taux_oxygene":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Taux Oxygene","description":"Taux d'oxygÃ¨ne SpO2 en %"},"date":{"type":"string","format":"date-time","title":"Date","description":"Horodatage de la mesure"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"ID du patient propriÃ©taire (rempli cÃ´tÃ© backend)"}},"type":"object","required":["date"],"title":"DonneeCreation","description":"SchÃ©ma utilisÃ© lors de la crÃ©ation d'une donnÃ©e de santÃ©."},"DonneeEnDB":{"properties":{"device_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id","description":"Identifiant de l'appareil (UUID)"},"frequence_cardiaque":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Frequence Cardiaque","description":"FrÃ©quence cardiaque en bpm"},"pression_arterielle":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pression Arterielle","description":"Pression artÃ©rielle ex: '120/80'"},"taux_oxygene":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Taux Oxygene","description":"Taux d'oxygÃ¨ne SpO2 en %"},"date":{"type":"string","format":"date-time","title":"Date","description":"Horodatage de la mesure"},"id":{"type":"string","title":"Id","description":"Identifiant unique de la donnÃ©e (UUID)"},"patient_nom":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patient Nom","description":"Nom complet du patient"},"device_nom":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Nom","description":"Nom de l'appareil (type + sÃ©rie)"},"user_id":{"type":"string","title":"User Id","description":"ID du patient propriÃ©taire de la donnÃ©e"}},"type":"object","required":["date","id","user_id"],"title":"DonneeEnDB"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ListeMedecins":{"properties":{"medecins":{"items":{"$ref":"#/components/schemas/MedecinInfo"},"type":"array","title":"Medecins","description":"Liste des mÃ©decins","default":[]}},"type":"object","title":"ListeMedecins","description":"Liste des mÃ©decins."},"ListePatients":{"properties":{"patients":{"items":{"$ref":"#/components/schemas/PatientInfo"},"type":"array","title":"Patients","description":"Liste des patients","default":[]}},"type":"object","title":"ListePatients","description":"Liste des patients."},"MedecinInfo":{"properties":{"id":{"type":"string","title":"Id","description":"ID du mÃ©decin"},"username":{"type":"string","title":"Username","description":"Nom d'utilisateur"},"email":{"type":"string","title":"Email","description":"Email"},"specialite":{"type":"string","title":"Specialite","description":"SpÃ©cialitÃ© mÃ©dicale","default":"MÃ©decin gÃ©nÃ©raliste"},"nb_patients":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Nb Patients","description":"Nombre de patients assignÃ©s"}},"type":"object","required":["id","username","email"],"title":"MedecinInfo","description":"Informations d'un mÃ©decin."},"PatientInfo":{"properties":{"id":{"type":"string","title":"Id","description":"ID du patient"},"username":{"type":"string","title":"Username","description":"Nom d'utilisateur"},"email":{"type":"string","title":"Email","description":"Email"},"date_assignation":{"type":"string","title":"Date Assignation","description":"Date d'assignation"}},"type":"object","required":["id","username","email","date_assignation"],"title":"PatientInfo","description":"Informations d'un patient."},"RecommandationEnDB":{"properties":{"titre":{"type":"string","title":"Titre","description":"Titre de la recommandation"},"description":{"type":"string","title":"Description","description":"Description dÃ©taillÃ©e de la recommandation"},"date":{"type":"string","format":"date-time","title":"Date","description":"Date de crÃ©ation"},"user_id":{"type":"string","title":"User Id","description":"ID du patient concernÃ©"},"id":{"type":"string","title":"Id","description":"Identifiant unique de la recommandation (UUID)"}},"type":"object","required":["titre","description","user_id","id"],"title":"RecommandationEnDB"},"ReferralCreate":{"properties":{"patient_id":{"type":"string","title":"Patient Id","description":"ID du patient"},"proposed_department_id":{"type":"string","title":"Proposed Department Id","description":"ID du dÃ©partement proposÃ©"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Notes sur l'orientation"},"source":{"allOf":[{"$ref":"#/components/schemas/ReferralSource"}],"description":"Source de l'orientation","default":"IA"},"created_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created By","description":"ID du crÃ©ateur"}},"type":"object","required":["patient_id","proposed_department_id"],"title":"ReferralCreate","description":"SchÃ©ma pour la crÃ©ation d'une orientation."},"ReferralResponse":{"properties":{"patient_id":{"type":"string","title":"Patient Id","description":"ID du patient"},"proposed_department_id":{"type":"string","title":"Proposed Department Id","description":"ID du dÃ©partement proposÃ©"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Notes sur l'orientation"},"id":{"type":"string","title":"Id","description":"ID unique de l'orientation"},"status":{"allOf":[{"$ref":"#/components/schemas/ReferralStatus"}],"description":"Statut de l'orientation"},"source":{"allOf":[{"$ref":"#/components/schemas/ReferralSource"}],"description":"Source de l'orientation"},"created_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created By","description":"ID du crÃ©ateur"},"processed_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Processed By","description":"ID du mÃ©decin traitant"},"processed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processed At","description":"Date de traitement"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Date de crÃ©ation"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Date de modification"},"patient_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patient Name","description":"Nom du patient"},"department_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department Name","description":"Nom du dÃ©partement"},"created_by_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created By Name","description":"Nom du crÃ©ateur"}},"type":"object","required":["patient_id","proposed_department_id","id","status","source","created_at","updated_at"],"title":"ReferralResponse","description":"SchÃ©ma de rÃ©ponse pour une orientation."},"ReferralSource":{"type":"string","enum":["IA","medecin","admin","patient"],"title":"ReferralSource","description":"Source de l'orientation mÃ©dicale."},"ReferralStatus":{"type":"string","enum":["pending","accepted","rejected","cancelled"],"title":"ReferralStatus","description":"Statut d'une orientation mÃ©dicale."},"ReferralUpdate":{"properties":{"status":{"anyOf":[{"$ref":"#/components/schemas/ReferralStatus"},{"type":"null"}]},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"processed_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Processed By"}},"type":"object","title":"ReferralUpdate","description":"SchÃ©ma pour la mise Ã  jour d'une orientation."},"Role":{"type":"string","enum":["patient","medecin","admin","technicien"],"title":"Role"},"RoleUpdate":{"properties":{"role":{"allOf":[{"$ref":"#/components/schemas/Role"}],"description":"Nouveau rÃ´le attribuÃ© Ã  l'utilisateur"}},"type":"object","required":["role"],"title":"RoleUpdate","description":"Payload envoyÃ© par un administrateur pour changer le rÃ´le d'un utilisateur."},"StatsReponse":{"properties":{"total_appareils":{"type":"integer","title":"Total Appareils","description":"Nombre total d'appareils connectÃ©s"},"total_donnees":{"type":"integer","title":"Total Donnees","description":"Nombre total de documents DonneeSante"},"total_alertes":{"type":"integer","title":"Total Alertes","description":"Nombre total d'alertes IA"},"total_recommandations":{"type":"integer","title":"Total Recommandations","description":"Nombre total de recommandations"},"total_utilisateurs":{"type":"integer","title":"Total Utilisateurs","description":"Nombre total d'utilisateurs enregistrÃ©s"}},"type":"object","required":["total_appareils","total_donnees","total_alertes","total_recommandations","total_utilisateurs"],"title":"StatsReponse","description":"Nombre d'objets stockÃ©s dans chaque collection."},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token","description":"SchÃ©ma du jeton JWT retournÃ© aprÃ¨s la connexion."},"UtilisateurAdminCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","minLength":3,"pattern":"^[a-zA-Z0-9_.-]+$","title":"Username"},"mot_de_passe":{"type":"string","minLength":6,"title":"Mot De Passe"},"role":{"type":"string","title":"Role","description":"RÃ´le attribuÃ© Ã  la crÃ©ation"},"department_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department Id","description":"ID du dÃ©partement (requis pour mÃ©decins)"}},"type":"object","required":["email","username","mot_de_passe","role"],"title":"UtilisateurAdminCreate","description":"SchÃ©ma utilisÃ© par un administrateur pour crÃ©er un utilisateur.\nContrairement Ã  l'inscription publique, tous les rÃ´les sont autorisÃ©s."},"UtilisateurCreation":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Adresse email de l'utilisateur"},"username":{"type":"string","minLength":3,"pattern":"^[a-zA-Z0-9_.-]+$","title":"Username","description":"Nom d'utilisateur unique (3 caractÃ¨res min, sans espace)"},"mot_de_passe":{"type":"string","minLength":6,"title":"Mot De Passe","description":"Mot de passe de l'utilisateur"},"role":{"type":"string","title":"Role","description":"RÃ´le de l'utilisateur (patient ou medecin seulement)","default":"patient"}},"type":"object","required":["email","username","mot_de_passe"],"title":"UtilisateurCreation","description":"DonnÃ©es requises pour l'inscription d'un utilisateur. Le rÃ´le ne peut Ãªtre que 'patient' ou 'medecin' lors d'une inscription publique."},"UtilisateurLogin":{"properties":{"identifiant":{"type":"string","title":"Identifiant","description":"Email ou nom d'utilisateur"},"mot_de_passe":{"type":"string","title":"Mot De Passe","description":"Mot de passe"}},"type":"object","required":["identifiant","mot_de_passe"],"title":"UtilisateurLogin"},"UtilisateurPublic":{"properties":{"id":{"type":"string","title":"Id"},"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","title":"Username"},"role":{"type":"string","title":"Role"},"department_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department Id"},"department_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department Name"},"department_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department Code"}},"type":"object","required":["id","email","username","role"],"title":"UtilisateurPublic","description":"Informations publiques d'un utilisateur retournÃ©es par l'API."},"UtilisateurUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"username":{"anyOf":[{"type":"string","minLength":3,"pattern":"^[a-zA-Z0-9_.-]+$"},{"type":"null"}],"title":"Username"},"role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"},"department_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department Id","description":"ID du dÃ©partement"}},"type":"object","title":"UtilisateurUpdate","description":"SchÃ©ma de mise Ã  jour partielle d'un utilisateur (admin)."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"security":[{"HTTPBearer":[]}]}
